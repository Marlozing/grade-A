<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>학점 계산기</title>
  <style>
    body { font-family: sans-serif; max-width: 600px; margin: auto; padding: 2rem; }
    label, select, input, button { display: block; margin-top: 1rem; }
    input, select { padding: 0.5rem; width: 100%; }
    button { padding: 0.5rem 1rem; }
    .result { margin-top: 2rem; font-weight: bold; }
  </style>
</head>
<body>
  <h1>학점 계산기 (A를 위한 최소 시험 점수)</h1>

  <label for="subject">과목 선택:</label>
  <select id="subject">
    <!-- 사용자 정의: 과목과 수행평가 비율 설정 -->
  </select>

  <label for="performance">수행평가 점수 (0~100):</label>
  <input type="number" id="performance" min="0" max="100" />

  <button onclick="calculateRequiredScore()">계산하기</button>

  <div class="result" id="result"></div>

  <script>
    // 과목별 수행평가 반영 비율 설정 (사용자가 자유롭게 수정 가능)
    const subjects = {
      "수학": 0.3,
      "과학": 0.4,
      "국어": 0.2,
      "영어": 0.25,
      "사회": 0.35
    };

    const subjectSelect = document.getElementById('subject');
    for (const [name, ratio] of Object.entries(subjects)) {
      const option = document.createElement('option');
      option.value = name;
      option.textContent = `${name} (수행 ${Math.round(ratio * 100)}%)`;
      subjectSelect.appendChild(option);
    }

    function calculateRequiredScore() {
      const subject = subjectSelect.value;
      const ratio = subjects[subject];
      const performanceScore = parseFloat(document.getElementById('performance').value);
      const resultDiv = document.getElementById('result');

      if (isNaN(performanceScore) || performanceScore < 0 || performanceScore > 100) {
        resultDiv.textContent = "수행평가 점수를 올바르게 입력해주세요 (0~100).";
        return;
      }

      const targetTotal = 90; // A 학점 기준 점수 (예: 90점 이상)

      // 전체 점수 계산식: total = 수행 * ratio + 시험 * (1 - ratio)
      // A를 받기 위한 최소 시험 점수 x에 대해: 수행 * r + x * (1 - r) >= 90
      const minTestScore = (targetTotal - performanceScore * ratio) / (1 - ratio);

      if (minTestScore > 100) {
        resultDiv.textContent = `A를 받는 것은 불가능합니다. 시험에서 만점을 받아도 부족합니다.`;
      } else if (minTestScore <= 0) {
        resultDiv.textContent = `이미 A를 받을 수 있는 점수입니다! 시험 점수는 0점이어도 충분합니다.`;
      } else {
        resultDiv.textContent = `시험에서 최소 ${minTestScore.toFixed(2)}점을 받아야 A를 받을 수 있습니다.`;
      }
    }
  </script>
</body>
</html>
